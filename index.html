<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/themes/light.css" />
    <script type="module"
        src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/shoelace-autoloader.js"></script>
</head>

<body>
    <div>
        <form id="myForm" class="configuration">

            <h2>CSV des résultats à copier coller de l'extract Gest'Hand. Menu "Compétitions" >
                Rencontres à Venir et "Compétitions" > Rencontre passées. Pensez à extraire Chapelaine et Porterie.
            </h2>
            <textarea id="csvContent">
semaine;"num poule";competition;poule;J;le;horaire;"club rec";"club vis";"club hote";"arb1 designe";"arb2 designe";observateur;delegue;"code renc";"nom salle";"adresse salle";CP;Ville;colle;"Coul. Rec";"Coul. Gard. Rec";"Coul. Vis";"Coul. Gard. Vis";"Ent. Rec";"Tel Ent. Rec";"Corresp. Rec";"Tel Corresp. Rec";"Ent. Vis";"Tel Ent. Vis";"Corresp. Vis";"Tel Corresp. Vis";"Num rec";"Num vis"
2023-42;F50001970D;"coupe de france departementale feminine 2023-24";"1° TOUR";1;21/10/2023;21:00:00;"D2FPL-C-PORTERIE*PORTES DE L'ERDRE";"HERIC HANDBALL";"PORTERIE HANDBALL";"MONIER SYLVAIN";;;;TAEYWAK;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";;;Rouge-Noir;Jaune-Gris;;;;;"JOSSE FREDERIC";+330769771211;"ESCANECRABE FRANCOIS";+330607687157;6244021;6244094
2023-42;H50001970D;"coupe de france departementale masculine 2023-24";"1° TOUR";1;21/10/2023;21:00:00;"HANDBALL CLUB DU GESVRES";"PORTERIE HANDBALL";"HANDBALL CLUB DU GESVRES";"BIGOT MICKAEL";"SAIDI MOHAMED AMINE";;;TAEYXGO;OLYMPIE;" rue simone de beauvoir";44119;TREILLIERES;"Colle lavable à l'eau uniquement";Bleu-Blanc;Rouge;;;"MLYNARZ JEFFERSON";+330627105227;"MLYNARZ JEFFERSON";+330627105227;;;;;6244085;6244021
2023-42;F62445001G;u15f-44;"TOURNOI DE DETECTION HONNEUR B A ANCENIS";1;21/10/2023;14:40:00;"HANDBALL CLUB MESANGER";"U15F-44-HB-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"ANCENIS HANDBALL";;;;;TAEYUHI;"PRESSOIR ROUGE";"320  rue du pressoir rouge";44150;ANCENIS;"Colle lavable à l'eau uniquement";;;;;;;;;;;;;6244100;6244021
2023-42;F62445001G;u15f-44;"TOURNOI DE DETECTION HONNEUR B A ANCENIS";1;21/10/2023;16:40:00;"U15F-44-HB-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"HANDBALL CLUB MARSIEN";"ANCENIS HANDBALL";;;;;TAEYUHL;"PRESSOIR ROUGE";"320  rue du pressoir rouge";44150;ANCENIS;"Colle lavable à l'eau uniquement";;;;;;;;;;;;;6244021;6244078
2023-42;F50001970D;"coupe de france departementale feminine 2023-24";"1° TOUR";1;;;"HANDBALL CLUB MARSIEN";"D1FPL-C-CHAPELAINE*PORTES DE L'ERDRE";"HANDBALL CLUB MARSIEN";;;" ";" ";TAEYWAM;"AUDREY LE MORVAN";" pole sportif philippe touzot";44850;"ST MARS DU DESERT";"Colle fournie par le club recevant";;;Vert-Noir;;;;;;"PINEAU THIERRY";;"PREVOTEAUX GILDAS";+330659682935;6244078;6244038
2023-42;M50001370R;"coupe de france regionale masculine 2023-24";"1° TOUR";1;21/10/2023;19:00:00;"HMPL-C-CHAPELAINE*PORTE DE L ERDRE";"AL CHATEAUBRIANT";"LA CHAPELAINE";"DURANCEAU HUGUES";"BOISMOREAU CHARLY";;;TAEXHWI;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Noir-Vert;;;;"BOUTRUCHE CHRISTOPHE";+33698168924;;;;;;;6244038;6244004
2023-42;M624465051;u12m-44;"U12M-44-HONNEUR A POULE 4";5;22/10/2023;09:30:00;"HBC BLINOIS";"LA CHAPELAINE 2";"HBC BLINOIS";;;;;TAESOBU;"catherine destivelle";" rue rene cassin";44130;BLAIN;"Toutes colles interdites";Bleu;Jaune;Vert;;"CHAIGNEAU DIDIER";+330633648224;"MOUKAKI CYRILLE";+330763406213;"NEDELEC LUCA";+33778643187;"BOUTRUCHE CHRISTOPHE";+33698168924;6244035;6244038
2023-42;F624460011;u13f-44;"U13F-44-EXCELLENCE POULE B";5;21/10/2023;13:30:00;"U13F-44-EXC-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)";"ST SEBASTIEN SUD LOIRE HANDBALL 1";"LA CHAPELAINE";;;;;TAESNPV;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Noir-Vert;;Bleu-Blanc;;"FORVEILLE CORENTIN";+330631937784;"OLLIVIER DAVID";+330611046278;"MESLET-HERICOURT CINDY";+330627818307;;;6244038;6244097
2023-42;M624455001;u14m-44;"U14M-44-EXCELLENCE POULE A";5;21/10/2023;15:00:00;"LA CHAPELAINE 1 ";"U14M-44-EXC-C-ALLIANCE ERDRE ET LOIRE (CHB-HBSL)";"LA CHAPELAINE";;;;;TAESNEI;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Vert;Jaune;Noir;Vert;"BOUTRUCHE CHRISTOPHE";+33698168924;"DEWITTE PIERRE-ALBAN";330659556459;"DRONET LAETITIA";+330660079446;"DRONET LAETITIA";+330660079446;6244038;6244049
2023-42;M624430041;u19m-44;"U19M-44-HONNEUR A POULE 2";5;21/10/2023;17:00:00;"U19M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)";"ANCENIS HANDBALL 2";"LA CHAPELAINE";"RAJALU ALEXANDRE";;;;TAESMED;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Noir-Vert;;Jaune-Bleu;Gris-Noir;"APTEL ERWANN";+33767053101;"LE VIAVANT YVES";+330761896340;"GILLET JEREMY";;"ABBE ANTHONY";330787580677;6244038;6244043
</textarea><sl-divider></sl-divider>
            <sl-details summary="Configuration avancée">
                <h2>Nom des équipes locales</h2>
                <textarea id="noms_equipes_dom">
["CHAPELAINE", "LA CHAPELAINE", "PORTERIE HB", "PORTERIE HANDBALL", "(CHAP-PHB)", "PORTES DE L'ERDRE"]
</textarea>
                <sl-divider></sl-divider>
                <h2>Substitions équipes. Ajouter ici les noms d'équipe que vous souhaitez voir afficher
                    sous
                    une forme plus "humaine"</h2>
                <textarea id="sub_equipes">
[
["HANDBALL CLUB MARSIEN", "St Mars"],
["U12M-44-EXC-C-GRAND LIEU SUD RETZ (PHB/ESL/MHC)","GRAND LIEU"],
["HANDBALL CLUB DU GESVRES","Treillières"],
["HANDBALL CLUB LEO LAGRANGE SUCE SUR ERDRE","Suce sur Erdre"],
["UNION SPORTIVE GRANDE PRESQU'ILE HANDBALL","Guérande"],
["U13F-44-EXC-C-GRAND LIEU SUD RETZ (ESL-PHB-MHC)","Grand Lieu Sud Retz"],
["1DTM-44-C-CONVENTION HERIC H/NOZAY OS HB","Heric Nozay"],
["U15f-44-ha-c-hb Ste Luce-chb-thbc","Ste Luce"],
["U14M-44-EXC-E-FHBL/HBCM","Ligné - St Mars"],
["U14m-44-exc-c-alliance Erdre Et Loire (chb-hbsl)","All. Carquefou / Ste Luce"]
]
</textarea>
                <sl-divider></sl-divider>
                <h3>Configuration des équipes. Format (division:{collectif:"nom collectif","nom
                    equipe":"libellé court"}). Utiliser les logs de la console pour compléter en pensant à faire une PR.
                </h3>
                <textarea id="configurationEquipe">
    {
        "ecole de hand - 44": {
            "collectif": "EDH-xx",
            "LA CHAPELAINE 1F" : "EDH-F",
            "LA CHAPELAINE 1M.2M.3M" : "EDH-M",
            "color" : "#634928"
        },
        "d1fpl ; division 1 feminine territoriale ;": {
            "collectif": "SF-xx",
            "D1F44-C-LA CHAPELAINE*ALLIANCE PORTES DE L'ERDRE": "SF1",
            "color": "#634928"
        },
        "d2fpl ; division 2 feminine territoriale ;": {
            "collectif": "SF-xx",
            "PORTERIE HANDBALL": "SF2",
            "D2F44-C-PORTERIE*ALLIANCE PORTES DE L'ERDRE": "SF2",
            "color": "#634928"
        },
        "1dtm-44": {
            "collectif": "SM-2",
            "1DTM-44-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "SM2",
            "color": "#634928"
        },
        "coupe de france regionale masculine 2023-24":{
            "collectif": "SM-xx",
            "HMPL-C-CHAPELAINE*PORTE DE L ERDRE": "SM-1",
            "color": "#634928"
        },
        "coupe de france departementale masculine 2023-24":{
            "collectif": "SM-xx",
            "LA CHAPELAINE": "SM-1",
            "PORTERIE HANDBALL": "SM-2",
            "color": "#634928"
        },
        "coupe de france departementale feminine 2023-24":{
            "collectif": "SF-xx",
            "LA CHAPELAINE": "SF-1",
            "D2FPL-C-PORTERIE*PORTES DE L'ERDRE": "SF-2",
            "color": "#634928"
        },        
        "hmpl ; honneur masculine regionale": {
            "collectif": "SM-1",
            "C-HMPL CHAPELAINE*PORTE DE L ERDRE": "SM1",
            "color": "#634928"
        },
        "u10m-44": {
            "collectif": "U10M-x",
            "PORTERIE HANDBALL": "U10M-PORTERIE",
            "color": "#29a659"
        },
        "u11m-44": {
            "collectif": "U11M-x",
            "LA CHAPELAINE 1": "U11M-1",
            "LA CHAPELAINE 2": "U11M-2",
            "color": "#29a659"
        },
        "u11f-44": {
            "collectif": "U11F-x",
            "LA CHAPELAINE": "U11F",
            "color": "#29a659"
        },
        "u12m-44": {
            "collectif": "U12M-x",
            "LA CHAPELAINE 1": "U12M-1",
            "LA CHAPELAINE 2": "U12M-2",
            "color": "#29a659"
        },
        "u13f-44": {
            "collectif": "U13F-x",
            "U13F-44-EXC-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U13F-1",
            "color": "#29a659"
        },
        "u14m-44": {
            "collectif": "U14M-x",
            "LA CHAPELAINE 1": "U14M-CHAP-1",
            "LA CHAPELAINE 1 ": "U14M-CHAP-1",
            "LA CHAPELAINE 2": "U14M-CHAP-2",
            "PORTERIE HANDBALL": "U14M-PORTERIE-1",
            "color": "#29a659"
        },
        "u15f-44": {
            "collectif": "U15F-x",
            "U15F-44-HA-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U15F-1",
            "U15F-44-HB-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U15F-2",
            "color": "#634928"
        },
        "u16m-44": {
            "collectif": "U16M-x",
            "U16M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U16M-1",
            "U16M-44-HB-C-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U16M-2",
            "color": "#634928"
        },
        "u17f-44": {
            "collectif": "U17F-x",
            "U17F-44-PR-E-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U17F",
            "color": "#634928"
        },
        "u19m-44":{
            "collectif": "U19M-x",
            "U19M-44-PR-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U19M-1",
            "U19M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U19M-2",
            "color": "#634928"
        }
    }
                
</textarea>
            </sl-details>
            <sl-divider></sl-divider>
            <sl-button variant="primary" onclick="generer()" class="generer" size="large">Générer</sl-button>
            <sl-divider></sl-divider>
        </form>
    </div>
    <div id="outputs">
        <h2>Tableau pret à copier coller Kiefekoi</h2>
        <div class="kifekoi" id="kifekoi"></div>
        <sl-divider></sl-divider>
        <h2>Illustrations matchs à venir Instagram</h2>
        <div class="instagram matchs-we" id="insta_1">
            <div class="sous-section-insta">
                <div class="jour-match" id="date_we_feed_1"></div>
            </div>
        </div>
        <div class="instagram matchs-we" id="insta_2">
            <div class="sous-section-insta">
                <div class="jour-match" id="date_we_feed_2"></div>
            </div>
        </div>
        <div class="instagram" id="insta_3">
            <div class="logo_1"></div>
            <div class="jour-match">Les conclusions manquantes<br><span id="date_we_feed_3"></span></div>
        </div>
        <sl-divider></sl-divider>
        <h2>Illustration résultat Instagram</h2>
        <div class="instagram resultats-we">
            <div id="resultats" class="sous-section-insta"></div>
            <div class="insta-footer">Bravo à tous !</div>
        </div>


    </div>
    </div>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/d3-dsv@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="script.js"></script>
    <style>
        :root {
            padding: 10px;
            font-family: 'Contrail One', 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-size: 24px;
        }

        .configuration {
            display: flex;
            flex-direction: column;
        }

        #sub_equipes {
            height: 10vh;
        }

        #configurationEquipe {
            height: 75vh;
        }

        #csvContent {
            height: 50vh;
        }

        #outputs {
            margin: auto;
            width: max(50%, 1200px);
            text-align: center;
        }

        .instagram {
            margin: auto;
            background-color: #5BA17B;
            color: white;
            text-align: center;
            align-items: center;
            padding: 20px;
            text-shadow: 1px 1px 2px green;
            display: flex;
            flex-direction: column;

            margin-top: 20px;
        }

        .insta-footer {
            width: calc(100% - 150px);
            background: left / 25% no-repeat url(./logo_4.png);
            height: 60px;
            font-family: "Edo";
            font-size: 40px;
            text-align: right;
            margin-top: 60px;
            margin-left: 160px;

        }

        .session {
            margin-left: 100px;
        }
        .resultats-we {
            background-image: url("./fond_resultats.png");
            height: 1320px;
            width: 742px;
        }

        .matchs-we {
            background-image: url("./fond_programme.png");
            height: 1320px;
            width: 742px;
        }

        .logo-alliance-blanc {
            background: center / contain no-repeat url("./logo_4.png");
            height: 120px;
            width: 200px;
            padding: 0px;
            margin: 0px;
        }

        .msg-footer {
            font-family: "Edo";
            font-size: 32px;
        }

        .jour-match {
            font-size: 32px;
            padding: 10px;
            min-width: 180px;
        }

        #weekend_a_venir {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .sous-section-insta {
            font-size: 24px;

            margin-top: 300px;
            margin-left: 100px;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .tableau-kifekoi {
            width: 100%;
            margin-top: 20px;
        }

        .ligneResultat {
            padding-top: 8px;
            display: flex;
        }

        .lrl {
            width: calc(40vh - 50px);
            text-align: right;
        }

        .lrc {
            width: 100px;
        }

        .lrr {
            width: calc(40vh - 50px);
            text-align: left;
        }

        .egalite {
            font-family: "Edo";
            color: orange;

        }

        .victoire {
            font-family: "Edo";
            color: green;

        }

        .defaite {
            font-family: "Edo";
            color: lemonchiffon;
        }


        .salle {
            font-family: "Edo";
            padding-top: 30px;
            margin-bottom: 6px;
        }

        .match {
            display: flex;
            flex-direction: row;
            padding-top: 10px;
        }

        #kifekoi {
            margin: auto;
            margin-top: 20px;
            background-color: lightgrey;
            max-width: 500px;
            padding: 10px;
        }

        .jour-kifekoi {
            margin: auto;
            margin-top: 20px;
        }

        .generer {
            margin: auto;
            max-width: 100px;
        }



        textarea {
            width: 100%;
        }

        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Contrail+One" />
    <link href="https://fonts.cdnfonts.com/css/edo" rel="stylesheet">
</body>