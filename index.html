<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/themes/light.css" />
    <script type="module"
        src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/shoelace-autoloader.js"></script>
</head>

<body>
    <div>
        <form id="myForm" class="configuration">

            <h2>CSV des résultats à copier coller de l'extract Gest'Hand. Menu "Compétitions" >
                Rencontres à Venir et "Compétitions" > Rencontre passées. Pensez à extraire Chapelaine et Porterie.
            </h2>
            <textarea id="csvContent">
semaine;"num poule";competition;poule;J;le;horaire;"club rec";"club vis";"club hote";"arb1 designe";"arb2 designe";observateur;delegue;"code renc";"nom salle";"adresse salle";CP;Ville;colle;"Coul. Rec";"Coul. Gard. Rec";"Coul. Vis";"Coul. Gard. Vis";"Ent. Rec";"Tel Ent. Rec";"Corresp. Rec";"Tel Corresp. Rec";"Ent. Vis";"Tel Ent. Vis";"Corresp. Vis";"Tel Corresp. Vis";"Num rec";"Num vis"
2023-39;M624401001;1dtm-44;"1DTM - POULE 1 ";3;30/09/2023;19:00:00;"1DTM-44-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"1DTM-44-C-CONVENTION HERIC H/NOZAY OS HB";"PORTERIE HANDBALL";;;;;TAEUZJM;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Vert-Orange;Violet;Rouge-Noir;Jaune-Gris;"BOUTRUCHE CHRISTOPHE";+33698168924;;;"STURTZ OLIVIER";+330679084744;"MEUNIER BRUNO";+330610630258;6244021;6244094
2023-39;F62000406G;"d2fpl ; division 2 feminine territoriale ;";"D2FPL-D ; DIV 2 FEMININE TERRITORIALE - POULE D";1;30/09/2023;19:00:00;"PORTERIE HANDBALL";"THOUARE HANDBALL CLUB";"PORTERIE HANDBALL";;;;;TAEXBFQ;"st joseph de la porterie n°1 - jean jahan";"509  route de st joseph de la porterie";44300;NANTES;"Toutes colles autorisées";Noir-Vert;;Noir-Bleu;Jaune-Noir;"PREVOTEAUX GILDAS";+330659682935;;;"NECK NICOLAS";+330677564070;"RENOU LUDOVIC";+33673335922;6244021;6244091
2023-39;Z624475041;u10m-44;"U10M-44-HONNEUR B POULE 3";1;30/09/2023;13:45:00;"PORTERIE HANDBALL";"HANDBALL CLUB LEO LAGRANGE SUCE SUR ERDRE";"PORTERIE HANDBALL";;;;;TAEXGBK;"st joseph de la porterie n°1 - jean jahan";"509  route de st joseph de la porterie";44300;NANTES;"Toutes colles interdites";Noir-Orange;;Blanc-Rouge;Orange;"FORVEILLE CORENTIN";+330631937784;;;"BERNARD SYLVIE";+330668798520;;;6244021;6244012
2023-39;M624455061;u14m-44;"U14M-44-HONNEUR A POULE 4";2;30/09/2023;17:00:00;"RACC NANTES 1 ";"PORTERIE HANDBALL";"RACC NANTES";;;;;TAESNKW;"BOTTIERE CHENAIE";"43  rue des carnavaliers";44300;NANTES;"Colle lavable à l'eau uniquement";Vert;Noir;Noir-Orange;;"CHARTIER ADAME";;"BAZIN CLEMENTINE";;"BOUTRUCHE CHRISTOPHE";+33698168924;;;6244042;6244021
2023-39;F624450051;u15f-44;"U15F-44-HONNEUR B POULE 1";1;;;"U15F-44-HB-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"AL CHATEAUBRIANT";"PORTERIE HANDBALL";;;;;TAEXELJ;;;;;;Noir-Vert;;Rouge;Vert;"BOUTRUCHE CHRISTOPHE";+33698168924;;;"BOULANGER SANDRINE";+330614488100;"THOMIN MAGALI";;6244021;6244004
2023-39;M624445081;u16m-44;"U16M-44-HONNEUR A POULE 6 ";2;30/09/2023;15:15:00;"HBC SAUTRON 2";"U16M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"HBC SAUTRON";;;;;TAESMRQ;"COMPLEXE SPORTIF DE LA FORET SALLE D";" rue de la foret";44880;SAUTRON;"Colle lavable à l'eau uniquement";Blanc-Rouge;Rouge;Noir-Vert;;"GUIHO JULIE";+330603335884;"GUIHO JULIE";+330603335884;"FORVEILLE CORENTIN";+330631937784;;;6244045;6244021
2023-39;F624440001;u17f-44;"U17F-44-PRE REGION POULE A";2;30/09/2023;17:00:00;"HBC SAUTRON";"U17F-44-PR-E-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"HBC SAUTRON";;;;;TAESMYO;"COMPLEXE SPORTIF DE LA FORET SALLE D";" rue de la foret";44880;SAUTRON;"Colle lavable à l'eau uniquement";Blanc-Rouge;Rouge;Noir-Vert;;"THYEBAUT FLORENCE";+330665289266;"THYEBAUT FLORENCE";+330665289266;"BOUTRUCHE CHRISTOPHE";+33698168924;;;6244045;6244021
2023-39;M624430001;u19m-44;"U19M-44-PRE REGION POULE A";2;30/09/2023;17:00:00;"U19M-44-PR-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)";"FANS HB LIGNE";"PORTERIE HANDBALL";;;;;TAESLZE;"st joseph de la porterie n°1 - jean jahan";"509  route de st joseph de la porterie";44300;NANTES;"Toutes colles autorisées";Noir-Vert;;Noir-Jaune;Violet-Noir;"BILLY ROMAIN";+330638510471;;;"FAGARD STEPHANE";+330650578694;"MENARD DANIEL";;6244021;6244039
2023-39;F62000301G;"d1fpl ; division 1 feminine territoriale ;";"D1FPL; POULE A";2;30/09/2023;21:00:00;"D1F44-C-LA CHAPELAINE*ALLIANCE PORTES DE L'ERDRE";"THOUARE HANDBALL CLUB";"LA CHAPELAINE";;;;;TAEXNMA;"st joseph de la porterie n°1 - jean jahan";"509  route de st joseph de la porterie";44300;NANTES;"Toutes colles autorisées";Vert-Noir;;Noir-Bleu;Jaune-Noir;"PINEAU THIERRY";;;;"RENOU LUDOVIC";+33673335922;"MICAULT PASCAL";+330687100972;6244038;6244091
2023-39;M62000201G;"hmpl ; honneur masculine regionale";"HMPL ; HONNEUR MASCULINE PDLL; POULE 2";3;30/09/2023;21:00:00;"C-HMPL CHAPELAINE*PORTE DE L ERDRE";"ST NAZAIRE HANDBALL 2";"LA CHAPELAINE";"LIMOUSIN MATHEO";"ROYER GAETAN";;;TAESKWE;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Noir-Vert;;Rouge;Bleu;"BOUTRUCHE CHRISTOPHE";+33698168924;;;"RIVOAL NICOLAS";+330638164491;"KEIB BERTRAND";+330617955095;6244038;6244007
2023-39;F624470011;u11f-44;"U11F-44-HONNEUR A POULE 2";1;30/09/2023;13:45:00;"CJ BOUGUENAIS HANDBALL 1 ";"LA CHAPELAINE";"CJ BOUGUENAIS HANDBALL";;;;;TAEXFBU;"LES BELIANS";" rue guishein";44340;BOUGUENAIS;"Colle fournie par le club recevant";Orange;Noir;Vert;;"BELLEAU ROSY";+330617978278;"BIRON MEDHI";+330669035045;"BOUTRUCHE CHRISTOPHE";+33698168924;;;6244027;6244038
2023-39;Z624470011;u11m-44;"U11M-44-HONNEUR A POULE 2";1;30/09/2023;14:00:00;"LA CHAPELAINE 1";"ST SEBASTIEN SUD LOIRE HANDBALL";"LA CHAPELAINE";;;;;TAEXFMQ;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Vert;;;;;;"GADAN MARION";+330620457492;;;;;6244038;6244097
2023-39;Z624470041;u11m-44;"U11M-44-HONNEUR B POULE 1";1;01/10/2023;11:00:00;"HIRONDELLE ST YO HB";"LA CHAPELAINE 2";"HIRONDELLE ST YO HB";;;;;TAEXFQB;"LE PALADIN";" route de la chapelle basse mer";44450;"ST JULIEN DE CONCELLES";"Colle lavable à l'eau uniquement";Vert;;Vert;;"CHEVREUIL LAURENT";+33614486642;"BOUYER ANNIE";+330606778671;;;"MARIE MAXIME";+330666341102;6244071;6244038
2023-39;M624465001;u12m-44;"U12M-44-EXCELLENCE POULE A";2;01/10/2023;09:30:00;"HANDBALL ORVAULT 1";"LA CHAPELAINE 1";"HANDBALL ORVAULT";;;;;TAESNVL;CHOLIERE;" avenue claude antoine peccot";44700;ORVAULT;"Colle lavable à l'eau uniquement";Noir;Orange;Vert;;"TREMBLAY JIMMY";+330602057060;"TREMBLAY JIMMY";+330602057060;"TERROLLES GUILLAUME";+330662899246;"BOUTRUCHE CHRISTOPHE";+33698168924;6244098;6244038
2023-39;M624465001;u12m-44;"U12M-44-EXCELLENCE POULE A";2;01/10/2023;10:15:00;"LA CHAPELAINE 1";"ST NAZAIRE HANDBALL 1";"HANDBALL ORVAULT";;;;;TAESNVN;CHOLIERE;" avenue claude antoine peccot";44700;ORVAULT;"Colle lavable à l'eau uniquement";Vert;;Rouge;Bleu;"TERROLLES GUILLAUME";+330662899246;"BOUTRUCHE CHRISTOPHE";+33698168924;"BERTRAND YANN";+330678338594;"KEIB BERTRAND";+330617955095;6244038;6244007
2023-39;M624465051;u12m-44;"U12M-44-HONNEUR A POULE 4";2;30/09/2023;13:30:00;"HANDBALL CLUB DU GESVRES 1";"LA CHAPELAINE 2";"HANDBALL CLUB DU GESVRES";;;;;TAESOBM;OLYMPIE;" rue simone de beauvoir";44119;TREILLIERES;"Toutes colles autorisées";Bleu-Blanc;Jaune;Vert;;"CARRIERE KEVIN";+33662071628;"CARRIERE KEVIN";+33662071628;"NEDELEC LUCA";+33778643187;"BOUTRUCHE CHRISTOPHE";+33698168924;6244085;6244038
2023-39;F624460011;u13f-44;"U13F-44-EXCELLENCE POULE B";2;30/09/2023;15:30:00;"U13F-44-EXC-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)";"U13F-44-EXC-C-GRAND LIEU SUD RETZ (ESL-PHB-MHC)";"LA CHAPELAINE";;;;;TAESNPM;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Noir-Vert;;Noir;Jaune;"FORVEILLE CORENTIN";+330631937784;"OLLIVIER DAVID";+330611046278;"BRUNET MAXIME";+330644192659;"REYNAUD ROZENN";;6244038;6244099
2023-39;M624455001;u14m-44;"U14M-44-EXCELLENCE POULE A";2;30/09/2023;17:00:00;"LA CHAPELAINE 1 ";"HANDBALL ORVAULT 1 ";"LA CHAPELAINE";;;;;TAESNDZ;"LA COUTANCIERE";" allee des favrieres";44240;"LA CHAPELLE SUR ERDRE";"Colle lavable à l'eau uniquement";Vert;Jaune;Noir;Orange;"BOUTRUCHE CHRISTOPHE";+33698168924;"DEWITTE PIERRE-ALBAN";330659556459;"COLOSIEZ CHARLY";+330771678875;"COLOSIEZ CHARLY";+330771678875;6244038;6244098
2023-39;M624455061;u14m-44;"U14M-44-HONNEUR A POULE 4";2;01/10/2023;14:30:00;"HANDBALL CLUB LEO LAGRANGE SUCE SUR ERDRE";"LA CHAPELAINE 2";"HANDBALL CLUB LEO LAGRANGE SUCE SUR ERDRE";;;;;TAESNKV;PAPINIERE;" la papiniere";44240;"SUCE SUR ERDRE";"Colle lavable à l'eau uniquement";Blanc-Rouge;Blanc-Noir;Vert;;;;"BERNARD SYLVIE";+330668798520;"BEN HAROUN NICOLAS";;"BOUTRUCHE CHRISTOPHE";+33698168924;6244012;6244038
2023-39;F624450021;u15f-44;"U15F-44-HONNEUR A POULE 1";2;30/09/2023;15:00:00;"U15F-44-HA-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)";"RACC NANTES 2";"LA CHAPELAINE";;;;;TAESMVC;"st joseph de la porterie n°1 - jean jahan";"509  route de st joseph de la porterie";44300;NANTES;"Toutes colles interdites";Noir-Vert;;Vert;Noir;;;;;"LE TALLEC GWENVAEL";;;;6244038;6244042
</textarea>
            <sl-divider></sl-divider>
            <sl-details summary="Configuration avancée">
                <h2>Nom des équipes locales</h2>
                <textarea id="noms_equipes_dom">
["CHAPELAINE", "LA CHAPELAINE", "PORTERIE HB", "PORTERIE HANDBALL", "(CHAP-PHB)", "PORTES DE L'ERDRE"]
</textarea>
                <sl-divider></sl-divider>
                <h2>Substitions équipes. Ajouter ici les noms d'équipe que vous souhaitez voir afficher
                    sous
                    une forme plus "humaine"</h2>
                <textarea id="sub_equipes">
[
["U12M-44-EXC-C-GRAND LIEU SUD RETZ (PHB/ESL/MHC)","GRAND LIEU"],
["HANDBALL CLUB DU GESVRES","Treillières"],
["HANDBALL CLUB LEO LAGRANGE SUCE SUR ERDRE","Suce sur Erdre"],
["UNION SPORTIVE GRANDE PRESQU'ILE HANDBALL","Guérande"],
["U13F-44-EXC-C-GRAND LIEU SUD RETZ (ESL-PHB-MHC)","Grand Lieu Sud Retz"],
["1DTM-44-C-CONVENTION HERIC H/NOZAY OS HB","Heric Nozay"]
]
</textarea>
                <sl-divider></sl-divider>
                <h3>Configuration des équipes. Format (division:{collectif:"nom collectif","nom
                    equipe":"libellé court"}). Utiliser les logs de la console pour compléter en pensant à faire une PR.
                </h3>
                <textarea id="configurationEquipe">
    {
        "d1fpl ; division 1 feminine territoriale ;": {
            "collectif": "SF-x",
            "D1F44-C-LA CHAPELAINE*ALLIANCE PORTES DE L'ERDRE": "SF1",
            "color": "#634928"
        },
        "d2fpl ; division 2 feminine territoriale ;": {
            "collectif": "SF-x",
            "PORTERIE HANDBALL": "SF1",
            "color": "#634928"
        },
        "1dtm-44": {
            "collectif": "SM-2",
            "1DTM-44-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "SM2",
            "color": "#634928"
        },
        "coupe de france regionale masculine 2023-24":{
            "collectif": "SM-1",
            "LA CHAPELAINE": "SM1",
            "color": "#634928"
        },
        "hmpl ; honneur masculine regionale": {
            "collectif": "SM-1",
            "C-HMPL CHAPELAINE*PORTE DE L ERDRE": "SM1",
            "color": "#634928"
        },
        "u10m-44": {
            "collectif": "U10M-x",
            "PORTERIE HANDBALL": "U10M-PORTERIE",
            "color": "#29a659"
        },
        "u11m-44": {
            "collectif": "U11M-x",
            "LA CHAPELAINE 1": "U11M-1",
            "LA CHAPELAINE 2": "U11M-2",
            "color": "#29a659"
        },
        "u11f-44": {
            "collectif": "U11F-x",
            "LA CHAPELAINE": "U11F",
            "color": "#29a659"
        },
        "u12m-44": {
            "collectif": "U12M-x",
            "LA CHAPELAINE 1": "U12M-1",
            "LA CHAPELAINE 2": "U12M-2",
            "color": "#29a659"
        },
        "u13f-44": {
            "collectif": "U13F-x",
            "U13F-44-EXC-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U13F-1",
            "color": "#29a659"
        },
        "u14m-44": {
            "collectif": "U14M-x",
            "LA CHAPELAINE 1": "U14M-CHAP-1",
            "LA CHAPELAINE 1 ": "U14M-CHAP-1",
            "LA CHAPELAINE 2": "U14M-CHAP-2",
            "PORTERIE HANDBALL": "U14M-PORTERIE-1",
            "color": "#29a659"
        },
        "u15f-44": {
            "collectif": "U15F-x",
            "U15F-44-HA-E-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U15F-1",
            "U15F-44-HB-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U15F-2",
            "color": "#634928"
        },
        "u16m-44": {
            "collectif": "U16M-x",
            "U16M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U16M-1",
            "color": "#634928"
        },
        "u17f-44": {
            "collectif": "U17F-x",
            "U17F-44-PR-E-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U17F",
            "color": "#634928"
        },
        "u19m-44":{
            "collectif": "U19M-x",
            "U19M-44-PR-C-ALLIANCE PORTES DE L'ERDRE (PHB-CHAP)": "U19M-1",
            "U19M-44-HA-C-ALLIANCE PORTES DE L'ERDRE (CHAP-PHB)": "U19M-2",
            "color": "#634928"
        }
    }
                
</textarea>
            </sl-details>
            <sl-divider></sl-divider>
            <sl-button variant="primary" onclick="generer()" class="generer" size="large" >Générer</sl-button>
            <sl-divider></sl-divider>
        </form>
    </div>
    <div id="outputs">
        <h2>Tableau pret à copier coller Kiefekoi</h2>
        <div class="kifekoi" id="kifekoi"></div>
        <sl-divider></sl-divider>
        <h2>Illustrations matchs à venir Instagram</h2>
        <div class="instagram matchs-we" id="insta_1">
            <div class="logo_1"></div>
            <div class="titre">Les matchs<br><span id="date_we_feed_1"></span></div>


        </div>
        <div class="instagram matchs-we" id="insta_2">
            <div class="logo_1"></div>
            <div class="titre">Les matchs<br><span id="date_we_feed_2"></span></div>
        </div>
        <sl-divider></sl-divider>
        <h2>Illustration résultat Instagram</h2>
        <div class="instagram resultats-we">
            <div class="logo_1"></div>
            <div class="titre">Les resultats du week-end<br><span id="date_we_feed_3"></span></div>
            <div id="resultats"></div>
        </div>

        
    </div>
    </div>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/d3-dsv@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="script.js"></script>
    <style>
        :root {
            padding: 10px;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }

        .configuration {
            display: flex;
            flex-direction: column;
        }

        #sub_equipes {
            height: 10vh;
        }

        #configurationEquipe {
            height: 75vh;
        }

        #csvContent {
            height: 50vh;
        }
        #outputs {
            margin: auto;
            width: max(50%, 1200px);
            text-align: center;
        }

        .instagram {
            margin: auto;
            background-color: #5BA17B;
            color: white;
            text-align: center;
            align-items: center;
            font-family: 'DM Sans', sans-serif;
            padding: 20px;
            text-shadow: 1px 1px 2px green;
            display: flex;
            flex-direction: column;
            max-width: 500px;
            margin-top: 20px;
        }

        .resultats-we {
            background-color: #5BA17B;
            text-shadow: 1px 1px 2px green;

        }

        .matchs-we {
            background-color: #e0bc3a;
            text-shadow: 1px 1px 2px rgb(248, 162, 3);
        }

        .logo_1 {
            background: center / contain no-repeat url("./logo_3.png");
            height: 120px;
            width: 200px;
            padding: 0px;
            margin: 0px;
        }

        .titre {
            border: 2px white solid;
            padding: 10px;
            font-weight: 600;
            min-width: 180px;
        }

        .sous_titre {
            margin-top: 12px;
            border-bottom: solid 2px white;
        }

        #weekend_a_venir {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #resultats {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

        }
        .tableau-kifekoi {
            width: 100%;
            margin-top: 20px;
        }

        .ligneResultat {
            display: flex;
        }

        .lrl {
            width: calc(40vh - 50px);
            text-align: right;
        }

        .lrc {
            width: 100px;
        }

        .lrr {
            width: calc(40vh - 50px);
            text-align: left;
        }

        .egalite {
            color: orange;
            font-weight: 600;
        }

        .victoire {
            color: black;
            font-weight: 600;
        }

        .defaite {
            color: white;
            font-weight: 600;
        }


        .salle {
            font-weight: 600;
            margin-top: 12px;
            margin-bottom: 6px;
        }

        .match {
            display: flex;
            flex-direction: row;
        }

        #kifekoi {
            margin: auto;
            margin-top: 20px;
            background-color: lightgrey;
            max-width: 500px;
            padding: 10px;
        }

        .jour-kifekoi {
            margin: auto;
            margin-top: 20px;
        }

        .generer {
            margin: auto;
            max-width: 100px;
        }

        textarea {
            width: 100%;
        }

        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
</body>